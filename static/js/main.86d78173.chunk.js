(window.webpackJsonpstaff=window.webpackJsonpstaff||[]).push([[0],{16:function(e,t,n){e.exports=n(29)},29:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),l=n.n(c),s=n(5),o=n(2),i=n(13),u=n(1),m=function(e){return{id:+new Date+Math.random(),name:e.name,role:e.role,status:e.status,conOn:new Date(e.conOn).toISOString().slice(0,10)}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.filter((function(e){return e.id!==t}))},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=e.slice();return a.sort((function(e,a){return e[t]<a[t]?"asc"===n?-1:1:e[t]>a[t]?"asc"===n?1:-1:0})),a},f=function(e,t){return e.map((function(e){return e.id===t.id?Object(u.a)(Object(u.a)({},e),{},{status:t.status}):e}))},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_LINES":return t.lines;case"ADD_LINE":return[m(t)].concat(Object(i.a)(e));case"DELETE_LINE":return d(e,t.id);case"UPDATE_LINE":return f(e,t);case"SORT_LINES":return h(e,t.field,t.order);default:return e}},p=(n(27),n(28),n(3)),g=n(11),L=n(12),b=n(15),O=n(14),N=function(e){return{type:"ADD_LINE",name:e.name,role:e.role,conOn:e.conOn,status:e.status}},S=function(e){return{type:"DELETE_LINE",id:e}},v=function(e){return{type:"UPDATE_LINE",id:e.id,name:e.name,role:e.role,conOn:e.conOn,status:e.status}},y=function(e,t){return{type:"SORT_LINES",field:e,order:t}},w=function(e){return{type:"FETCH_LINES",lines:e}},C=["Engineer","Sales","Customer Support","Manager"],_=["Screen","Scheduled","Explored","Hire"],j=function(e){Object(b.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(g.a)(this,n);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={role:C[0],status:_[0],curLine:-1,searchFor:""},e.componentDidMount=function(){return e.fetchLines()},e.handleCurLine=function(t){return function(n){return e.setState({curLine:t})}},e.fetchLines=function(){var t=[];fetch("https://jsonplaceholder.typicode.com/users",{method:"GET"}).then((function(e){return e.json()})).then((function(n){t=n.map((function(e){var t=C[Math.round(Math.abs(e.address.geo.lat))%C.length],n=_[Math.round(Math.abs(e.address.geo.lng))%_.length],a=new Date(+new Date-Math.floor(Math.random()*Math.pow(10,11))).toISOString().slice(0,10);return Object(u.a)(Object(u.a)({},e),{},{role:t,status:n,conOn:a})})),e.props.fetchLines(t)}))},e.onChange=function(t){return e.setState(Object(p.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var n=e.state.name.trim(),a=e.state.role.trim(),r=e.state.conOn.trim(),c=e.state.status.trim();n&&a&&r&&c&&(e.props.addLine(e.state),e.clearAddLineFormFields())},e.clearAddLineFormFields=function(){return document.getElementById("add-comment-form").reset()},e.handleSearch=function(t){t.preventDefault();var n=e.props.lines;return e.filterLines(n)},e.multiSearchAnd=function(e,t){return t.every((function(t){return e.match(new RegExp(t,"i"))}))},e.multiSearchOr=function(e,t){return t.some((function(t){return e.match(new RegExp(t,"i"))}))},e.concatObjValues=function(e){return[].concat.apply([],Object.values(e)).join(" ")},e.filterLines=function(t){if(e.state&&e.state.searchFor){var n=e.state.searchFor.trim().toLowerCase(),a=-1!==n.indexOf(" and ")?e.multiSearchAnd:e.multiSearchOr;return n=e.replaceByRules(n,{" and ":" "," or ":" "}).split(" "),t.filter((function(t){var r=e.concatObjValues({name:t.name,role:t.role,conOn:t.conOn,status:t.status});return a(r,n)}))}return t},e.deleteLine=function(t){return function(n){return e.props.deleteLine(t)}},e.updateLine=function(t){return function(n){e.props.updateLine(Object(u.a)(Object(u.a)({},t),{},Object(p.a)({},n.target.name,n.target.value))),e.setState({curLine:-1})}},e.sortLines=function(t,n){return function(a){return e.props.sortLines(t,n)}},e.countFreq=function(e,t){return e.reduce((function(e,n){return e[n[t]]=++e[n[t]]||1,e}),{})},e.objToStr=function(e){return Object.entries(e).sort().map((function(e){return e.join(": ")})).join(" ,   ")},e.resetSearch=function(){return e.setState({searchFor:"",phrase:""})},e.startSearch=function(){return e.setState({searchFor:e.state.phrase})},e.replaceByRules=function(e,t){var n=new RegExp(Object.keys(t).join("|"),"gi");return e.replace(n,(function(e){return t[e.toLowerCase()]})).replace(/\s\s+/g," ")},e.createListForReplaces=function(e,t,n){return e.reduce((function(e,a){return e[a]=t+a+n,e}),{})},e.highlightTextInGrid=function(t,n){return e.state&&e.state.searchFor?e.replaceByRules(t,e.createListForReplaces(n,'<strong style="background-color: #f4d991">',"</strong>")):t},e.renderLines=function(){var t=e.filterLines(e.props.lines),n=e.countFreq(t,"status"),a=e.replaceByRules(e.state.searchFor.trim().toLowerCase(),{" and ":" "," or ":" "}).split(" ");return r.a.createElement("div",null,r.a.createElement("div",{className:"pull-left"},r.a.createElement("span",{className:"label label-primary"},e.objToStr(n)," \xa0 | \xa0 TOTAL: ",t.length," lines")),r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name \xa0",r.a.createElement("a",{href:"#"},r.a.createElement("i",{className:"fa fa-arrow-up","aria-hidden":"true",onClick:e.sortLines("name","asc")})),r.a.createElement("a",{href:"#"},r.a.createElement("i",{className:"fa fa-arrow-down","aria-hidden":"true",onClick:e.sortLines("name","desc")}))),r.a.createElement("th",null,"Role \xa0",r.a.createElement("a",{href:"#"},r.a.createElement("i",{className:"fa fa-arrow-up","aria-hidden":"true",onClick:e.sortLines("role","asc")})),r.a.createElement("a",{href:"#"},r.a.createElement("i",{className:"fa fa-arrow-down","aria-hidden":"true",onClick:e.sortLines("role","desc")}))),r.a.createElement("th",null,"Connected On \xa0",r.a.createElement("a",{href:"#"},r.a.createElement("i",{className:"fa fa-arrow-up","aria-hidden":"true",onClick:e.sortLines("conOn","asc")})),r.a.createElement("a",{href:"#"},r.a.createElement("i",{className:"fa fa-arrow-down","aria-hidden":"true",onClick:e.sortLines("conOn","desc")}))),r.a.createElement("th",null,"Status \xa0",r.a.createElement("a",{href:"#"},r.a.createElement("i",{className:"fa fa-arrow-up","aria-hidden":"true",onClick:e.sortLines("status","asc")})),r.a.createElement("a",{href:"#"},r.a.createElement("i",{className:"fa fa-arrow-down","aria-hidden":"true",onClick:e.sortLines("status","desc")}))),r.a.createElement("th",null,"Delete"))),r.a.createElement("tbody",null,t.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,a.length>0?r.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.highlightTextInGrid(t.name,a)}}):t.name),r.a.createElement("td",null,a.length>0?r.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.highlightTextInGrid(t.role,a)}}):t.role),r.a.createElement("td",null,a.length>0?r.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.highlightTextInGrid(t.conOn,a)}}):t.conOn),e.state.curLine!==t.id?r.a.createElement("td",{className:"col-md-2",onClick:e.handleCurLine(t.id)},a.length>0?r.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.highlightTextInGrid(t.status,a)}}):t.status):r.a.createElement("td",{className:"col-md-2"},r.a.createElement("select",{style:{padding:0,height:"100%"},name:"status",className:"form-control",defaultValue:t.status,onChange:e.updateLine(t)},_.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)})))),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-danger btn-xs",onClick:e.deleteLine(t.id)},r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"}))))})))))},e}return Object(L.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("h3",null,"Staff ")),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("div",{className:"form-inline pull-right"},r.a.createElement("div",{className:"form-group"},r.a.createElement("form",{onSubmit:this.handleSearch},r.a.createElement("input",{type:"text",name:"phrase",className:"form-control",placeholder:"Search...",onChange:this.onChange}),r.a.createElement("button",{type:"submit",onClick:this.startSearch,className:"btn btn-primary"},r.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"})," Search"),r.a.createElement("button",{type:"reset",onClick:this.resetSearch,className:"btn btn-danger"},r.a.createElement("i",{className:"fa fa-recycle","aria-hidden":"true"})," Reset")))))),r.a.createElement("div",{className:"form-inline"},r.a.createElement("div",{className:"form-group"},r.a.createElement("form",{id:"add-comment-form",onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",name:"name",className:"form-control",placeholder:"Name...",required:!0,onChange:this.onChange}),r.a.createElement("select",{name:"role",className:"form-control",value:this.state.role,onChange:this.onChange},C.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))),r.a.createElement("input",{type:"date",name:"conOn",className:"form-control",placeholder:"Connected On...",required:!0,onChange:this.onChange}),r.a.createElement("select",{name:"status",className:"form-control",value:this.state.status,onChange:this.onChange},_.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))),r.a.createElement("button",{type:"submit",className:"btn btn-success"},r.a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})," Add Line")))),this.renderLines()))}}]),n}(a.Component),T=Object(s.b)((function(e){return{lines:e}}),(function(e){return Object(o.a)({addLine:N,deleteLine:S,updateLine:v,sortLines:y,fetchLines:w},e)}))(j),I=Object(o.b)(E,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());l.a.render(r.a.createElement(s.a,{store:I},r.a.createElement(T,null)),window.document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.86d78173.chunk.js.map